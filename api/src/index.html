<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
			crossorigin="anonymous" />
		<title>SilverLine - API de Productos Apple</title>
		<style>
			:root {
				--primary-color: #007aff;
				--secondary-color: #5856d6;
				--success-color: #34c759;
				--danger-color: #ff3b30;
				--dark-color: #1d1d1f;
				--light-gray: #f5f5f7;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
					"Helvetica Neue", Arial, sans-serif;
				background: linear-gradient(135deg, var(--light-gray) 0%, #e8e8ea 100%);
				min-height: 100vh;
			}

			.hero-section {
				background: linear-gradient(
					135deg,
					var(--primary-color) 0%,
					var(--secondary-color) 100%
				);
				color: white;
				padding: 80px 0;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
			}

			.hero-section h1 {
				font-size: 3.5rem;
				font-weight: 700;
				margin-bottom: 20px;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
			}

			.hero-section p {
				font-size: 1.3rem;
				opacity: 0.95;
			}

			.api-card {
				background: white;
				border-radius: 20px;
				padding: 30px;
				margin: 20px 0;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
				transition: transform 0.3s ease, box-shadow 0.3s ease;
			}

			.api-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 15px 50px rgba(0, 0, 0, 0.12);
			}

			.endpoint {
				background: var(--light-gray);
				border-radius: 10px;
				padding: 20px;
				margin: 15px 0;
				border-left: 4px solid var(--primary-color);
			}

			.method-badge {
				font-weight: 600;
				padding: 5px 12px;
				border-radius: 20px;
				font-size: 0.85rem;
				margin-right: 10px;
			}

			.get {
				background: #34c759;
				color: white;
			}
			.post {
				background: #007aff;
				color: white;
			}
			.put {
				background: #ff9500;
				color: white;
			}
			.delete {
				background: #ff3b30;
				color: white;
			}

			.code-block {
				background: #1d1d1f;
				color: #00ff00;
				padding: 20px;
				border-radius: 10px;
				font-family: "Courier New", monospace;
				font-size: 0.9rem;
				overflow-x: auto;
				margin: 15px 0;
			}

			.stats-card {
				text-align: center;
				padding: 30px;
				background: white;
				border-radius: 15px;
				box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
				margin: 10px 0;
			}

			.stats-card i {
				font-size: 3rem;
				color: var(--primary-color);
				margin-bottom: 15px;
			}

			.stats-card h3 {
				font-size: 2.5rem;
				font-weight: 700;
				color: var(--dark-color);
				margin: 10px 0;
			}

			.footer {
				background: var(--dark-color);
				color: white;
				padding: 40px 0;
				margin-top: 80px;
			}

			.btn-custom {
				padding: 12px 30px;
				border-radius: 50px;
				font-weight: 600;
				transition: all 0.3s ease;
			}

			.btn-custom:hover {
				transform: scale(1.05);
			}

			.feature-icon {
				font-size: 2.5rem;
				color: var(--primary-color);
				margin-bottom: 20px;
			}
		</style>
	</head>

	<body>
		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
			<div class="container">
				<a
					class="navbar-brand fw-bold"
					href="#">
					<i class="fa-solid fa-laptop me-2"></i>SilverLine API
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div
					class="collapse navbar-collapse"
					id="navbarNav">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item">
							<a
								class="nav-link"
								href="#endpoints"
								>Endpoints</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="#docs"
								>Documentación</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="#stats"
								>Estadísticas</a
							>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Hero Section -->
		<section class="hero-section">
			<div class="container text-center">
				<h1><i class="fa-brands fa-apple me-3"></i>SilverLine API</h1>
				<p class="lead mb-4">
					API RESTful para gestión de productos Apple - MacBooks, iPads y más
				</p>
				<div class="mt-4">
					<span class="badge bg-success fs-6 me-2">
						<i class="fa-solid fa-circle-check"></i> Online
					</span>
					<span class="badge bg-light text-dark fs-6"> v1.0.0 </span>
				</div>
			</div>
		</section>

		<!-- Stats Section -->
		<section
			class="container my-5"
			id="stats">
			<div class="row">
				<div class="col-md-4">
					<div class="stats-card">
						<i class="fa-solid fa-server"></i>
						<h3 id="productCount">0</h3>
						<p class="text-muted mb-0">Productos Disponibles</p>
					</div>
				</div>
				<div class="col-md-4">
					<div class="stats-card">
						<i class="fa-solid fa-rocket"></i>
						<h3>5</h3>
						<p class="text-muted mb-0">Endpoints Activos</p>
					</div>
				</div>
				<div class="col-md-4">
					<div class="stats-card">
						<i class="fa-solid fa-clock"></i>
						<h3>&lt; 100ms</h3>
						<p class="text-muted mb-0">Tiempo de Respuesta</p>
					</div>
				</div>
			</div>
		</section>

		<!-- API Endpoints Section -->
		<section
			class="container my-5"
			id="endpoints">
			<div class="api-card">
				<h2 class="mb-4">
					<i class="fa-solid fa-code me-2"></i>Endpoints Disponibles
				</h2>
				<p class="text-muted">
					Base URL: <code>http://localhost:3000/api/productos</code>
				</p>

				<!-- GET All Products -->
				<div class="endpoint">
					<h5>
						<span class="method-badge get">GET</span>
						Obtener todos los productos
					</h5>
					<div class="code-block">GET /api/productos</div>
					<p class="mb-0">
						<strong>Respuesta:</strong> Lista de todos los productos disponibles
					</p>
				</div>

				<!-- GET Product by ID -->
				<div class="endpoint">
					<h5>
						<span class="method-badge get">GET</span>
						Obtener producto por ID
					</h5>
					<div class="code-block">GET /api/productos/:id</div>
					<p class="mb-0">
						<strong>Parámetro:</strong> <code>id</code> - ObjectId de MongoDB
						(24 caracteres hex)
					</p>
				</div>

				<!-- POST Create Product -->
				<div class="endpoint">
					<h5>
						<span class="method-badge post">POST</span>
						Crear nuevo producto
					</h5>
					<div class="code-block">
						POST /api/productos
						<br />Content-Type: application/json <br /><br />
						{
						<br />&nbsp;&nbsp;"nombre": "MacBook Pro 14",
						<br />&nbsp;&nbsp;"precio": 1999, <br />&nbsp;&nbsp;"codigoSku":
						"MBP14-2024-M3-512-16", <br />&nbsp;&nbsp;"modelo": "MacBook Pro
						14", <br />&nbsp;&nbsp;"anio": 2024, <br />&nbsp;&nbsp;"chip":
						"Apple M3", <br />&nbsp;&nbsp;"memoriaRamGb": 16,
						<br />&nbsp;&nbsp;"almacenamientoGb": 512 <br />}
					</div>
				</div>

				<!-- PUT Update Product -->
				<div class="endpoint">
					<h5>
						<span class="method-badge put">PUT</span>
						Actualizar producto
					</h5>
					<div class="code-block">
						PUT /api/productos/:id
						<br />Content-Type: application/json
					</div>
					<p class="mb-0">
						<strong>Parámetro:</strong> <code>id</code> - ObjectId del producto
						a actualizar
					</p>
				</div>

				<!-- DELETE Product -->
				<div class="endpoint">
					<h5>
						<span class="method-badge delete">DELETE</span>
						Eliminar producto
					</h5>
					<div class="code-block">DELETE /api/productos/:id</div>
					<p class="mb-0">
						<strong>Parámetro:</strong> <code>id</code> - ObjectId del producto
						a eliminar
					</p>
				</div>
			</div>
		</section>

		<!-- Features Section -->
		<section
			class="container my-5"
			id="docs">
			<div class="row">
				<div class="col-md-4 text-center mb-4">
					<div class="api-card">
						<i class="feature-icon fa-solid fa-shield-halved"></i>
						<h4>Validación Robusta</h4>
						<p class="text-muted">
							Validación de ObjectId y manejo de errores completo
						</p>
					</div>
				</div>
				<div class="col-md-4 text-center mb-4">
					<div class="api-card">
						<i class="feature-icon fa-solid fa-database"></i>
						<h4>MongoDB</h4>
						<p class="text-muted">Base de datos NoSQL escalable y eficiente</p>
					</div>
				</div>
				<div class="col-md-4 text-center mb-4">
					<div class="api-card">
						<i class="feature-icon fa-solid fa-bolt"></i>
						<h4>Alta Performance</h4>
						<p class="text-muted">Respuestas rápidas con Express y Node.js</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Test Section -->
		<section class="container my-5">
			<div class="api-card">
				<h2 class="mb-4"><i class="fa-solid fa-flask me-2"></i>Probar API</h2>
				<div class="row">
					<div class="col-md-6">
						<button
							class="btn btn-success btn-custom w-100 mb-3"
							onclick="testGetProducts()">
							<i class="fa-solid fa-play me-2"></i>GET Todos los Productos
						</button>
						<button
							class="btn btn-primary btn-custom w-100 mb-3"
							onclick="testGetById()">
							<i class="fa-solid fa-search me-2"></i>GET Producto por ID
						</button>
					</div>
					<div class="col-md-6">
						<div
							id="testResult"
							class="code-block"
							style="min-height: 100px">
							Resultado de la prueba aparecerá aquí...
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Footer -->
		<footer class="footer">
			<div class="container text-center">
				<p class="mb-2">
					<i class="fa-solid fa-laptop me-2"></i>
					<strong>SilverLine API</strong> - Gestión de Productos Apple
				</p>
				<p class="mb-0 text-muted">
					Desarrollado con <i class="fa-solid fa-heart text-danger"></i> usando
					Node.js, Express y MongoDB
				</p>
				<div class="mt-3">
					<span class="badge bg-secondary me-2">Node.js</span>
					<span class="badge bg-secondary me-2">Express</span>
					<span class="badge bg-secondary me-2">MongoDB</span>
					<span class="badge bg-secondary">Mongoose</span>
				</div>
			</div>
		</footer>

		<!-- Bootstrap JS -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
			crossorigin="anonymous"></script>

		<!-- Custom JavaScript -->
		<script>
			// Función para obtener el conteo de productos
			async function loadProductCount() {
				try {
					const response = await fetch("/api/productos");
					const data = await response.json();
					if (data.status === "success") {
						document.getElementById("productCount").textContent =
							data.data.length;
					}
				} catch (error) {
					console.error("Error al cargar productos:", error);
					document.getElementById("productCount").textContent = "?";
				}
			}

			// Función para probar GET todos los productos
			async function testGetProducts() {
				const resultDiv = document.getElementById("testResult");
				resultDiv.innerHTML =
					'<i class="fa-solid fa-spinner fa-spin"></i> Cargando...';

				try {
					const response = await fetch("/api/productos");
					const data = await response.json();
					resultDiv.textContent = JSON.stringify(data, null, 2);
				} catch (error) {
					resultDiv.textContent = "Error: " + error.message;
				}
			}

			// Función para probar GET por ID
			async function testGetById() {
				const resultDiv = document.getElementById("testResult");

				// Primero obtener un ID válido
				try {
					const response = await fetch("/api/productos");
					const data = await response.json();

					if (data.status === "success" && data.data.length > 0) {
						const firstProductId = data.data[0]._id;

						resultDiv.innerHTML =
							'<i class="fa-solid fa-spinner fa-spin"></i> Obteniendo producto...';

						const productResponse = await fetch(
							`/api/productos/${firstProductId}`
						);
						const productData = await productResponse.json();
						resultDiv.textContent = JSON.stringify(productData, null, 2);
					} else {
						resultDiv.textContent = "No hay productos disponibles para probar";
					}
				} catch (error) {
					resultDiv.textContent = "Error: " + error.message;
				}
			}

			// Cargar estadísticas al cargar la página
			window.addEventListener("load", loadProductCount);
		</script>
	</body>
</html>
